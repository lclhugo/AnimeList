#!/bin/sh
. "$(dirname "$0")/_/husky.sh"


echo '     / ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \
    |  /~~\                                                                       /~~\  |
    |\ \   |                                                                     |   / /|
    | \   /|          ğŸ—ï¸ğŸ‘· Styling your project before committing ğŸ‘·ğŸ—ï¸           |\   / |
    |  ~~  |                                                                     |  ~~  |
    |      |  ğŸ” Checking for ESLint error and trying to fix them if any... ğŸ¤–   |      |
    |      |                                                                     |      |
    |      |           Please be patient, this may take a while... âŒ›            |      |
    |      |                                                                     |      |
    |      |                                                                     |      |
     \     |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|     /
      \   /                                                                       \   /
       ~~~                                                                         ~~~
'

# Check ESLint Standards
yarn lint ||
(
    echo '    +----------------------------------------------------+
    |    ğŸ”¨ We found errors during ESLint check ğŸ”¨       |
    |                                                    |
    |      Trying to automatically fix the problems...   |
    +----------------------------------------------------+'
    yarn lint:fix ||
    (
         echo '        +------------------------------------------------------------------------+
        |            âŒ Could not automatically fix the changes âŒ               |
        |                                                                        |
        |      Fix the errors, run yarn lint, add changes and try commit again.  |
        +------------------------------------------------------------------------+'
        false;
    )
    echo '    *************************************************************************
    *                                                                       *
    *   ğŸŸ¢ Errors were succesfully solved automatically.... ğŸ‘¾ğŸ§‘â€ğŸ”§         *
    *                                                                       *
    *************************************************************************'
)

echo '    +---------------------------------------------+
    |    ğŸ‰ Committing this now.... âœ¨ğŸš€ğŸ„â€â™‚ï¸ğŸ»   |
    +---------------------------------------------+

    '

yarn lint-staged
